{"ast":null,"code":"import { createElementVNode as _createElementVNode, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-header align-items-start min-vh-100\",\n  style: {\n    \"background-image\": \"url('https://firebasestorage.googleapis.com/v0/b/aka-mart.appspot.com/o/bg.png?alt=media&token=f42b78cf-5907-4e05-b90d-df9721f13a0a')\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"mask bg-gradient-dark opacity-6\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"container my-auto\"\n};\nconst _hoisted_4 = {\n  class: \"row\"\n};\nconst _hoisted_5 = {\n  class: \"col-lg-4 col-md-8 col-12 mx-auto\"\n};\nconst _hoisted_6 = {\n  class: \"card z-index-0 fadeIn3 fadeInBottom\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header p-0 position-relative mt-n4 mx-3 z-index-2\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"text-white font-weight-bolder text-center mt-2 mb-0\"\n}, \"Sign in\")])], -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"card-body\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"input-group input-group-outline my-3\\\"><label class=\\\"form-label no-left-margin\\\">Email</label><input type=\\\"email\\\" name=\\\"email\\\" autocomplete=\\\"off\\\" class=\\\"form-control\\\"></div><div class=\\\"input-group input-group-outline mb-3\\\"><label class=\\\"form-label no-left-margin\\\">Password</label><input type=\\\"password\\\" name=\\\"password\\\" autocomplete=\\\"off\\\" class=\\\"form-control\\\"></div><div class=\\\"text-center\\\"><button type=\\\"submit\\\" name=\\\"submit\\\" class=\\\"btn bg-gradient-primary w-100 my-4 mb-2\\\">Sign in</button></div>\", 3);\nconst _hoisted_12 = [_hoisted_9];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"form\", {\n    id: \"login-form\",\n    class: \"text-start\",\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.doLogin && $options.doLogin(...args), [\"prevent\"]))\n  }, _hoisted_12, 32 /* HYDRATE_EVENTS */)])])])])])]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC,0CAA0C;EAACC,KAAgK,EAAhK;IAAA;EAAA;;gCACpDC,oBAAqD;EAA/CF,KAAK,EAAC;AAAiC;;EACxCA,KAAK,EAAC;AAAmB;;EACvBA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAkC;;EACtCA,KAAK,EAAC;AAAqC;gCAC9CE,oBAIM;EAJDF,KAAK,EAAC;AAAwD,iBACjEE,oBAEM;EAFDF,KAAK,EAAC;AAA+D,iBACxEE,oBAA4E;EAAxEF,KAAK,EAAC;AAAqD,GAAC,SAAO;;EAGtEA,KAAK,EAAC;AAAW;;qBAElBG,UAGM;;uBAhBpBC,oBA8BM,OA9BNC,UA8BM,GA7BJC,UAAqD,EACrDJ,oBA2BM,OA3BNK,UA2BM,GA1BJL,oBAyBM,OAzBNM,UAyBM,GAxBJN,oBAuBM,OAvBNO,UAuBM,GAtBJP,oBAqBM,OArBNQ,UAqBM,GApBJC,UAIM,EACNT,oBAcM,OAdNU,UAcM,GAbJV,oBAYO;IAZDW,EAAE,EAAC,YAAY;IAACb,KAAK,EAAC,YAAY;IAAMc,QAAM,wDAAUC,6CAAO","names":["class","style","_createElementVNode","_hoisted_9","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","id","onSubmit","$options"],"sourceRoot":"","sources":["/home/aka/Documents/react-nativ/ecommerce-mevn-stack/admin/src/components/LoginComponent.vue"],"sourcesContent":["<template>\n  <div class=\"page-header align-items-start min-vh-100\" style=\"background-image: url('https://firebasestorage.googleapis.com/v0/b/aka-mart.appspot.com/o/bg.png?alt=media&token=f42b78cf-5907-4e05-b90d-df9721f13a0a');\">\n    <span class=\"mask bg-gradient-dark opacity-6\"></span>\n    <div class=\"container my-auto\">\n      <div class=\"row\">\n        <div class=\"col-lg-4 col-md-8 col-12 mx-auto\">\n          <div class=\"card z-index-0 fadeIn3 fadeInBottom\">\n            <div class=\"card-header p-0 position-relative mt-n4 mx-3 z-index-2\">\n              <div class=\"bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1\">\n                <h4 class=\"text-white font-weight-bolder text-center mt-2 mb-0\">Sign in</h4>\n              </div>\n            </div>\n            <div class=\"card-body\">\n              <form id=\"login-form\" class=\"text-start\" v-on:submit.prevent=\"doLogin\">\n                <div class=\"input-group input-group-outline my-3\">\n                  <label class=\"form-label no-left-margin\">Email</label>\n                  <input type=\"email\" name=\"email\" autocomplete=\"off\" class=\"form-control\" />\n                </div>\n                <div class=\"input-group input-group-outline mb-3\">\n                  <label class=\"form-label no-left-margin\">Password</label>\n                  <input type=\"password\" name=\"password\" autocomplete=\"off\" class=\"form-control\" />\n                </div>\n                <div class=\"text-center\">\n                  <button type=\"submit\" name=\"submit\" class=\"btn bg-gradient-primary w-100 my-4 mb-2\">Sign in</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\"\n  import swal from \"sweetalert2\"\n  import store from \"../vuex/store\"\n\n  export default {\n    methods: {\n      doLogin: async function () {\n        const form = event.target\n        const formData = new FormData(form)\n\n        form.submit.setAttribute(\"disabled\", \"disabled\")\n\n        const response = await axios.post(\n          this.$apiURL + \"/admin/login\",\n          formData\n        )\n\n        form.submit.removeAttribute(\"disabled\")\n\n        if (response.data.status == \"success\") {\n          // get access token from server\n          const accessToken = response.data.accessToken\n\n          // save in local storage\n          localStorage.setItem(this.$accessTokenKey, accessToken)\n\n          form.reset()\n          this.$headers.Authorization = \"Bearer \" + accessToken\n\n          store.commit(\"setAdmin\", response.data.admin)\n          store.commit(\"setLogin\", true)\n\n          this.$router.push({\n            path: \"/\"\n          })\n        } else {\n          swal.fire(\"Error\", response.data.message, \"error\")\n        }\n      }\n    },\n\n    mounted: function () {\n      setTimeout(function () {\n        const form = document.getElementById(\"login-form\")\n        form.email.value = \"\"\n        form.password.value = \"\"\n      }, 500)\n    }\n  }\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}