{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport store from \"../vuex/store\";\nexport default {\n  methods: {\n    doLogin: async function () {\n      const form = event.target;\n      const formData = new FormData(form);\n      form.submit.setAttribute(\"disabled\", \"disabled\");\n      const response = await axios.post(this.$apiURL + \"/admin/login\", formData);\n      form.submit.removeAttribute(\"disabled\");\n      if (response.data.status == \"success\") {\n        // get access token from server\n        const accessToken = response.data.accessToken;\n\n        // save in local storage\n        localStorage.setItem(this.$accessTokenKey, accessToken);\n        form.reset();\n        this.$headers.Authorization = \"Bearer \" + accessToken;\n        store.commit(\"setAdmin\", response.data.admin);\n        store.commit(\"setLogin\", true);\n        this.$router.push({\n          path: \"/\"\n        });\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    }\n  },\n  mounted: function () {\n    setTimeout(function () {\n      const form = document.getElementById(\"login-form\");\n      form.email.value = \"\";\n      form.password.value = \"\";\n    }, 500);\n  }\n};","map":{"version":3,"mappings":";AAmCE,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,IAAG,MAAO,aAAY;AAC7B,OAAOC,KAAI,MAAO,eAAc;AAEhC,eAAe;EACbC,OAAO,EAAE;IACPC,OAAO,EAAE,kBAAkB;MACzB,MAAMC,IAAG,GAAIC,KAAK,CAACC,MAAK;MACxB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAACJ,IAAI;MAElCA,IAAI,CAACK,MAAM,CAACC,YAAY,CAAC,UAAU,EAAE,UAAU;MAE/C,MAAMC,QAAO,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAC/B,IAAI,CAACC,OAAM,GAAI,cAAc,EAC7BN,QAAO,CACT;MAEAH,IAAI,CAACK,MAAM,CAACK,eAAe,CAAC,UAAU;MAEtC,IAAIH,QAAQ,CAACI,IAAI,CAACC,MAAK,IAAK,SAAS,EAAE;QACrC;QACA,MAAMC,WAAU,GAAIN,QAAQ,CAACI,IAAI,CAACE,WAAU;;QAE5C;QACAC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACC,eAAe,EAAEH,WAAW;QAEtDb,IAAI,CAACiB,KAAK,EAAC;QACX,IAAI,CAACC,QAAQ,CAACC,aAAY,GAAI,SAAQ,GAAIN,WAAU;QAEpDhB,KAAK,CAACuB,MAAM,CAAC,UAAU,EAAEb,QAAQ,CAACI,IAAI,CAACU,KAAK;QAC5CxB,KAAK,CAACuB,MAAM,CAAC,UAAU,EAAE,IAAI;QAE7B,IAAI,CAACE,OAAO,CAACC,IAAI,CAAC;UAChBC,IAAI,EAAE;QACR,CAAC;MACH,OAAO;QACL5B,IAAI,CAAC6B,IAAI,CAAC,OAAO,EAAElB,QAAQ,CAACI,IAAI,CAACe,OAAO,EAAE,OAAO;MACnD;IACF;EACF,CAAC;EAEDC,OAAO,EAAE,YAAY;IACnBC,UAAU,CAAC,YAAY;MACrB,MAAM5B,IAAG,GAAI6B,QAAQ,CAACC,cAAc,CAAC,YAAY;MACjD9B,IAAI,CAAC+B,KAAK,CAACC,KAAI,GAAI,EAAC;MACpBhC,IAAI,CAACiC,QAAQ,CAACD,KAAI,GAAI,EAAC;IACzB,CAAC,EAAE,GAAG;EACR;AACF","names":["axios","swal","store","methods","doLogin","form","event","target","formData","FormData","submit","setAttribute","response","post","$apiURL","removeAttribute","data","status","accessToken","localStorage","setItem","$accessTokenKey","reset","$headers","Authorization","commit","admin","$router","push","path","fire","message","mounted","setTimeout","document","getElementById","email","value","password"],"sourceRoot":"","sources":["/home/aka/Documents/react-nativ/ecommerce-mevn-stack/admin/src/components/LoginComponent.vue"],"sourcesContent":["<template>\n  <div class=\"page-header align-items-start min-vh-100\" style=\"background-image: url('https://firebasestorage.googleapis.com/v0/b/aka-mart.appspot.com/o/bg.png?alt=media&token=f42b78cf-5907-4e05-b90d-df9721f13a0a');\">\n    <span class=\"mask bg-gradient-dark opacity-6\"></span>\n    <div class=\"container my-auto\">\n      <div class=\"row\">\n        <div class=\"col-lg-4 col-md-8 col-12 mx-auto\">\n          <div class=\"card z-index-0 fadeIn3 fadeInBottom\">\n            <div class=\"card-header p-0 position-relative mt-n4 mx-3 z-index-2\">\n              <div class=\"bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1\">\n                <h4 class=\"text-white font-weight-bolder text-center mt-2 mb-0\">Masuk</h4>\n              </div>\n            </div>\n            <div class=\"card-body\">\n              <form id=\"login-form\" class=\"text-start\" v-on:submit.prevent=\"doLogin\">\n                <div class=\"input-group input-group-outline my-3\">\n                  <label class=\"form-label no-left-margin\">Email</label>\n                  <input type=\"email\" name=\"email\" autocomplete=\"off\" class=\"form-control\" />\n                </div>\n                <div class=\"input-group input-group-outline mb-3\">\n                  <label class=\"form-label no-left-margin\">Password</label>\n                  <input type=\"password\" name=\"password\" autocomplete=\"off\" class=\"form-control\" />\n                </div>\n                <div class=\"text-center\">\n                  <button type=\"submit\" name=\"submit\" class=\"btn bg-gradient-primary w-100 my-4 mb-2\">Sign in</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\"\n  import swal from \"sweetalert2\"\n  import store from \"../vuex/store\"\n\n  export default {\n    methods: {\n      doLogin: async function () {\n        const form = event.target\n        const formData = new FormData(form)\n\n        form.submit.setAttribute(\"disabled\", \"disabled\")\n\n        const response = await axios.post(\n          this.$apiURL + \"/admin/login\",\n          formData\n        )\n\n        form.submit.removeAttribute(\"disabled\")\n\n        if (response.data.status == \"success\") {\n          // get access token from server\n          const accessToken = response.data.accessToken\n\n          // save in local storage\n          localStorage.setItem(this.$accessTokenKey, accessToken)\n\n          form.reset()\n          this.$headers.Authorization = \"Bearer \" + accessToken\n\n          store.commit(\"setAdmin\", response.data.admin)\n          store.commit(\"setLogin\", true)\n\n          this.$router.push({\n            path: \"/\"\n          })\n        } else {\n          swal.fire(\"Error\", response.data.message, \"error\")\n        }\n      }\n    },\n\n    mounted: function () {\n      setTimeout(function () {\n        const form = document.getElementById(\"login-form\")\n        form.email.value = \"\"\n        form.password.value = \"\"\n      }, 500)\n    }\n  }\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}