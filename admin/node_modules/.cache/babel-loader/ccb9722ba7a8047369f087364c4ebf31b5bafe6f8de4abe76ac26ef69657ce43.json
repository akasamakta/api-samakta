{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container-fluid py-4\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-md-12\"\n};\nconst _hoisted_4 = {\n  class: \"card\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"font-weight-bolder\"\n}, \"Edit product\")], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"card-body\"\n};\nconst _hoisted_7 = {\n  class: \"input-group input-group-outline mb-3\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label no-left-margin\"\n}, \"Name\", -1 /* HOISTED */);\nconst _hoisted_9 = [\"value\"];\nconst _hoisted_10 = {\n  class: \"input-group input-group-outline mb-3\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label no-left-margin\"\n}, \"Description\", -1 /* HOISTED */);\nconst _hoisted_12 = [\"value\"];\nconst _hoisted_13 = {\n  class: \"input-group input-group-outline mb-3\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label no-left-margin\"\n}, \"Price (Rp)\", -1 /* HOISTED */);\nconst _hoisted_15 = [\"value\"];\nconst _hoisted_16 = {\n  class: \"input-group input-group-outline mb-3\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label no-left-margin\"\n}, \"Items in stock (0 means unlimited, for digital products)\", -1 /* HOISTED */);\nconst _hoisted_18 = [\"value\"];\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group input-group-outline mb-3\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label no-left-margin\"\n}, \"Images\"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"file\",\n  multiple: \"\",\n  accept: \"image/*\",\n  name: \"images\",\n  class: \"form-control\"\n})], -1 /* HOISTED */);\nconst _hoisted_20 = [\"src\"];\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-center\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0\"\n}, \"Edit product\")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" End Navbar \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [$data.product != null ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.editProduct && $options.editProduct(...args), [\"prevent\"])),\n    enctype: \"multipart/form-data\"\n  }, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    autocomplete: \"off\",\n    name: \"name\",\n    value: $data.product.name,\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_9)]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createElementVNode(\"textarea\", {\n    name: \"description\",\n    style: {\n      \"margin-top\": \"40px\"\n    },\n    class: \"form-control\",\n    required: \"\",\n    value: $data.product.description\n  }, null, 8 /* PROPS */, _hoisted_12)]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"input\", {\n    type: \"number\",\n    min: \"0\",\n    name: \"price\",\n    autocomplete: \"off\",\n    class: \"form-control\",\n    required: \"\",\n    value: $data.product.price\n  }, null, 8 /* PROPS */, _hoisted_15)]), _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _createElementVNode(\"input\", {\n    type: \"number\",\n    min: \"0\",\n    autocomplete: \"off\",\n    name: \"itemsInStock\",\n    class: \"form-control\",\n    value: $data.product.itemsInStock || 0,\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_18)]), _hoisted_19, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.product.images, image => {\n    return _openBlock(), _createElementBlock(\"img\", {\n      src: _ctx.$apiURL + '/' + image,\n      style: {\n        \"display\": \"inline-block\",\n        \"width\": \"100%\",\n        \"margin-top\": \"10px\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_20);\n  }), 256 /* UNKEYED_FRAGMENT */)), _hoisted_21], 32 /* HYDRATE_EVENTS */)) : _createCommentVNode(\"v-if\", true)])])])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"mappings":";;EAESA,KAAK,EAAC;AAAsB;;EACxBA,KAAK,EAAC;AAAK;;EACPA,KAAK,EAAC;AAAW;;EACbA,KAAK,EAAC;AAAM;gCACbC,oBAEM;EAFDD,KAAK,EAAC;AAAa,iBACpBC,oBAAgD;EAA5CD,KAAK,EAAC;AAAoB,GAAC,cAAY;;EAG1CA,KAAK,EAAC;AAAW;;EAETA,KAAK,EAAC;AAAsC;gCAC7CC,oBAAqD;EAA9CD,KAAK,EAAC;AAA2B,GAAC,MAAI;;;EAI5CA,KAAK,EAAC;AAAsC;iCAC7CC,oBAA4D;EAArDD,KAAK,EAAC;AAA2B,GAAC,aAAW;;;EAInDA,KAAK,EAAC;AAAsC;iCAC7CC,oBAA2D;EAApDD,KAAK,EAAC;AAA2B,GAAC,YAAU;;;EAIlDA,KAAK,EAAC;AAAsC;iCAC7CC,oBAAyG;EAAlGD,KAAK,EAAC;AAA2B,GAAC,0DAAwD;;iCAIrGC,oBAGM;EAHDD,KAAK,EAAC;AAAsC,iBAC7CC,oBAAuD;EAAhDD,KAAK,EAAC;AAA2B,GAAC,QAAM,gBAC/CC,oBAAkF;EAA3EC,IAAI,EAAC,MAAM;EAACC,QAAQ,EAAR,EAAQ;EAACC,MAAM,EAAC,SAAS;EAACC,IAAI,EAAC,QAAQ;EAACL,KAAK,EAAC;;;iCAKrEC,oBAEM;EAFDD,KAAK,EAAC;AAAa,iBACpBC,oBAAyG;EAAjGC,IAAI,EAAC,QAAQ;EAACF,KAAK,EAAC;GAAwD,cAAY;;;6DAvC5HM,mCAAmB,EACnBL,oBA6CM,OA7CNM,UA6CM,GA5CFN,oBA2CM,OA3CNO,UA2CM,GA1CFP,oBAyCM,OAzCNQ,UAyCM,GAxCFR,oBAuCM,OAvCNS,UAuCM,GAtCFC,UAEM,EAENV,oBAiCM,OAjCNW,UAiCM,GAhC0EC,aAAO,0BAAnFC,oBA+BO;;IA/BIC,QAAM,wDAAUC,qDAAW;IAAEC,OAAO,EAAC;MAC5ChB,oBAGM,OAHNiB,UAGM,GAFFC,UAAqD,EACrDlB,oBAA8G;IAAvGC,IAAI,EAAC,MAAM;IAACF,KAAK,EAAC,cAAc;IAACoB,YAAY,EAAC,KAAK;IAACf,IAAI,EAAC,MAAM;IAAQgB,KAAK,EAAER,aAAO,CAACR,IAAI;IAAEiB,QAAQ,EAAR;yCAGvGrB,oBAGM,OAHNsB,WAGM,GAFFC,WAA4D,EAC5DvB,oBAAmI;IAAzHI,IAAI,EAAC,aAAa;IAACoB,KAAyB,EAAzB;MAAA;IAAA,CAAyB;IAACzB,KAAK,EAAC,cAAc;IAACsB,QAAQ,EAAR,EAAQ;IAAQD,KAAK,EAAER,aAAO,CAACa;0CAG/GzB,oBAGM,OAHN0B,WAGM,GAFFC,WAA2D,EAC3D3B,oBAA0H;IAAnHC,IAAI,EAAC,QAAQ;IAAC2B,GAAG,EAAC,GAAG;IAACxB,IAAI,EAAC,OAAO;IAACe,YAAY,EAAC,KAAK;IAACpB,KAAK,EAAC,cAAc;IAACsB,QAAQ,EAAR,EAAQ;IAAQD,KAAK,EAAER,aAAO,CAACiB;0CAGrH7B,oBAGM,OAHN8B,WAGM,GAFFC,WAAyG,EACzG/B,oBAA6I;IAAtIC,IAAI,EAAC,QAAQ;IAAC2B,GAAG,EAAC,GAAG;IAACT,YAAY,EAAC,KAAK;IAACf,IAAI,EAAC,cAAc;IAACL,KAAK,EAAC,cAAc;IAAQqB,KAAK,EAAER,aAAO,CAACoB,YAAY;IAAOX,QAAQ,EAAR;0CAGtIY,WAGM,qBAENpB,oBAA0IqB,6BAAnHtB,aAAO,CAACuB,MAAM,EAAxBC,KAAK;yBAAlBvB,oBAA0I;MAA5FwB,GAAG,EAAEC,YAAO,SAASF,KAAK;MAAEZ,KAA6D,EAA7D;QAAA;QAAA;QAAA;MAAA;;oCAE1Ee,WAEM","names":["class","_createElementVNode","type","multiple","accept","name","_createCommentVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","$data","_createElementBlock","onSubmit","$options","enctype","_hoisted_7","_hoisted_8","autocomplete","value","required","_hoisted_10","_hoisted_11","style","description","_hoisted_13","_hoisted_14","min","price","_hoisted_16","_hoisted_17","itemsInStock","_hoisted_19","_Fragment","images","image","src","_ctx","_hoisted_21"],"sourceRoot":"","sources":["/home/aka/Documents/react-nativ/ecommerce-mevn-stack/admin/src/components/EditProduct.vue"],"sourcesContent":["<template>\n    <!-- End Navbar -->\n    <div class=\"container-fluid py-4\">\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <h4 class=\"font-weight-bolder\">Edit product</h4>\n                    </div>\n\n                    <div class=\"card-body\">\n                        <form v-on:submit.prevent=\"editProduct\" enctype=\"multipart/form-data\" v-if=\"product != null\">\n                            <div class=\"input-group input-group-outline mb-3\">\n                                <label class=\"form-label no-left-margin\">Name</label>\n                                <input type=\"text\" class=\"form-control\" autocomplete=\"off\" name=\"name\" v-bind:value=\"product.name\" required />\n                            </div>\n\n                            <div class=\"input-group input-group-outline mb-3\">\n                                <label class=\"form-label no-left-margin\">Description</label>\n                                <textarea name=\"description\" style=\"margin-top: 40px;\" class=\"form-control\" required v-bind:value=\"product.description\"></textarea>\n                            </div>\n\n                            <div class=\"input-group input-group-outline mb-3\">\n                                <label class=\"form-label no-left-margin\">Price (Rp)</label>\n                                <input type=\"number\" min=\"0\" name=\"price\" autocomplete=\"off\" class=\"form-control\" required v-bind:value=\"product.price\" />\n                            </div>\n\n                            <div class=\"input-group input-group-outline mb-3\">\n                                <label class=\"form-label no-left-margin\">Items in stock (0 means unlimited, for digital products)</label>\n                                <input type=\"number\" min=\"0\" autocomplete=\"off\" name=\"itemsInStock\" class=\"form-control\" v-bind:value=\"product.itemsInStock || 0\" required />\n                            </div>\n\n                            <div class=\"input-group input-group-outline mb-3\">\n                                <label class=\"form-label no-left-margin\">Images</label>\n                                <input type=\"file\" multiple accept=\"image/*\" name=\"images\" class=\"form-control\" />\n                            </div>\n\n                            <img v-for=\"(image) in product.images\" v-bind:src=\"$apiURL + '/' + image\" style=\"display: inline-block; width: 100%; margin-top: 10px;\" />\n\n                            <div class=\"text-center\">\n                                <button type=\"submit\" class=\"btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0\">Edit product</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import axios from \"axios\"\n    import swal from \"sweetalert2\"\n\n    export default {\n        data() {\n            return {\n                _id: this.$route.params._id,\n                product: null\n            }\n        },\n\n        methods: {\n\n            getData: async function () {\n                const formData = new FormData()\n                formData.append(\"_id\", this._id)\n\n                const response = await axios.post(\n                    this.$apiURL + \"/admin/products/fetchSingle\",\n                    formData,\n                    {\n                        headers: this.$headers\n                    }\n                )\n\n                if (response.data.status == \"success\") {\n                    this.product = response.data.product\n                } else {\n                    swal.fire(\"Error\", response.data.message, \"error\")\n                }\n\n                const responseConfig = await axios.post(\n                    this.$apiURL + \"/getConfigurations\",\n                    null\n                )\n\n                if (responseConfig.data.status == \"success\") {\n                    let configurations = responseConfig.data.configurations\n                    this.categories = configurations.categories || []\n                }\n            },\n\n            editProduct: async function () {\n                const form = event.target\n                const formData = new FormData(form)\n                formData.append(\"_id\", this._id)\n\n                const response = await axios.post(\n                    this.$apiURL + \"/admin/products/update\",\n                    formData,\n                    {\n                        headers: this.$headers\n                    }\n                )\n\n                swal.fire(\"Edit product\", response.data.message, response.data.status)\n            }\n        },\n\n        mounted: function () {\n            this.getData()\n        }\n    }\n</script>\n\n<style>\n    .no-left-margin::before {\n        width: auto !important;\n    }\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}