{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport store from \"../vuex/store\";\nexport default {\n  data() {\n    return {\n      products: []\n    };\n  },\n  computed: {\n    total: function () {\n      let total = 0;\n      for (let a = 0; a < this.products.length; a++) {\n        total += this.products[a].units * this.products[a].price;\n      }\n      return total;\n    }\n  },\n  methods: {\n    unitChanged: function () {\n      const target = event.target;\n      const _id = target.getAttribute(\"data-id\");\n      const units = parseInt(target.value);\n      const cookieParts = document.cookie.split(\"; \");\n      for (let a = 0; a < cookieParts.length; a++) {\n        const keyValue = cookieParts[a].split(\"=\");\n        if (keyValue[0] == \"products\") {\n          const products = JSON.parse(keyValue[1]);\n          for (let b = 0; b < products.length; b++) {\n            if (products[b]._id == _id) {\n              products[b].units = units;\n              document.cookie = \"products=\" + JSON.stringify(products);\n              this.products = products;\n            }\n          }\n        }\n      }\n    },\n    removeFromCart: function () {\n      const button = event.target;\n      const _id = button.getAttribute(\"data-id\");\n      const cookieParts = document.cookie.split(\"; \");\n      for (let a = 0; a < cookieParts.length; a++) {\n        const keyValue = cookieParts[a].split(\"=\");\n        if (keyValue[0] == \"products\") {\n          const products = JSON.parse(keyValue[1]);\n          for (let b = 0; b < products.length; b++) {\n            if (products[b]._id == _id) {\n              products.splice(b, 1);\n              document.cookie = \"products=\" + JSON.stringify(products);\n              this.products = products;\n              store.commit(\"setCartCounter\", products.length);\n              return;\n            }\n          }\n        }\n      }\n    }\n  },\n  mounted: async function () {\n    const cookieParts = document.cookie.split(\"; \");\n    for (let a = 0; a < cookieParts.length; a++) {\n      const keyValue = cookieParts[a].split(\"=\");\n      if (keyValue[0] == \"products\") {\n        const products = JSON.parse(keyValue[1]);\n        this.products = products;\n      }\n    }\n    document.addEventListener('DOMContentLoaded', function () {\n      var elems = document.querySelectorAll('.collapsible');\n      var instances = M.Collapsible.init(elems, {});\n    });\n  }\n};","map":{"version":3,"mappings":"AAgEI,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,IAAG,MAAO,aAAY;AAC7B,OAAOC,KAAI,MAAO,eAAc;AAEhC,eAAe;EACXC,IAAI,GAAG;IACH,OAAO;MACHC,QAAQ,EAAE;IACd;EACJ,CAAC;EAEDC,QAAQ,EAAE;IACTC,KAAK,EAAE,YAAY;MAClB,IAAIA,KAAI,GAAI;MACZ,KAAK,IAAIC,IAAI,CAAC,EAAEA,IAAI,IAAI,CAACH,QAAQ,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;QAC9CD,KAAI,IAAM,IAAI,CAACF,QAAQ,CAACG,CAAC,CAAC,CAACE,KAAI,GAAI,IAAI,CAACL,QAAQ,CAACG,CAAC,CAAC,CAACG,KAAK;MAC1D;MACA,OAAOJ,KAAI;IACZ;EACD,CAAC;EAEDK,OAAO,EAAE;IACRC,WAAW,EAAE,YAAY;MACxB,MAAMC,MAAK,GAAIC,KAAK,CAACD,MAAK;MAC1B,MAAME,GAAE,GAAIF,MAAM,CAACG,YAAY,CAAC,SAAS;MACzC,MAAMP,KAAI,GAAIQ,QAAQ,CAACJ,MAAM,CAACK,KAAK;MAEnC,MAAMC,WAAU,GAAIC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI;MACpD,KAAK,IAAIf,IAAI,CAAC,EAAEA,IAAIY,WAAW,CAACX,MAAM,EAAED,CAAC,EAAE,EAAE;QAC5C,MAAMgB,QAAO,GAAIJ,WAAW,CAACZ,CAAC,CAAC,CAACe,KAAK,CAAC,GAAG;QACzC,IAAIC,QAAQ,CAAC,CAAC,KAAK,UAAU,EAAE;UAC9B,MAAMnB,QAAO,GAAIoB,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC,CAAC,CAAC;UACvC,KAAK,IAAIG,IAAI,CAAC,EAAEA,IAAItB,QAAQ,CAACI,MAAM,EAAEkB,CAAC,EAAE,EAAE;YACzC,IAAItB,QAAQ,CAACsB,CAAC,CAAC,CAACX,GAAE,IAAKA,GAAG,EAAE;cAC3BX,QAAQ,CAACsB,CAAC,CAAC,CAACjB,KAAI,GAAIA,KAAI;cACxBW,QAAQ,CAACC,MAAK,GAAI,WAAU,GAAIG,IAAI,CAACG,SAAS,CAACvB,QAAQ;cACvD,IAAI,CAACA,QAAO,GAAIA,QAAO;YACxB;UACD;QACD;MACD;IACK,CAAC;IAEDwB,cAAc,EAAE,YAAY;MAC3B,MAAMC,MAAK,GAAIf,KAAK,CAACD,MAAK;MAC1B,MAAME,GAAE,GAAIc,MAAM,CAACb,YAAY,CAAC,SAAS;MAEzC,MAAMG,WAAU,GAAIC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI;MACpD,KAAK,IAAIf,IAAI,CAAC,EAAEA,IAAIY,WAAW,CAACX,MAAM,EAAED,CAAC,EAAE,EAAE;QAC5C,MAAMgB,QAAO,GAAIJ,WAAW,CAACZ,CAAC,CAAC,CAACe,KAAK,CAAC,GAAG;QACzC,IAAIC,QAAQ,CAAC,CAAC,KAAK,UAAU,EAAE;UAC9B,MAAMnB,QAAO,GAAIoB,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC,CAAC,CAAC;UACvC,KAAK,IAAIG,IAAI,CAAC,EAAEA,IAAItB,QAAQ,CAACI,MAAM,EAAEkB,CAAC,EAAE,EAAE;YACzC,IAAItB,QAAQ,CAACsB,CAAC,CAAC,CAACX,GAAE,IAAKA,GAAG,EAAE;cAC3BX,QAAQ,CAAC0B,MAAM,CAACJ,CAAC,EAAE,CAAC;cACpBN,QAAQ,CAACC,MAAK,GAAI,WAAU,GAAIG,IAAI,CAACG,SAAS,CAACvB,QAAQ;cACvD,IAAI,CAACA,QAAO,GAAIA,QAAO;cACvBF,KAAK,CAAC6B,MAAM,CAAC,gBAAgB,EAAE3B,QAAQ,CAACI,MAAM;cAC9C;YACD;UACD;QACD;MACD;IACK;EACD,CAAC;EAEDwB,OAAO,EAAE,kBAAkB;IAC1B,MAAMb,WAAU,GAAIC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI;IACpD,KAAK,IAAIf,IAAI,CAAC,EAAEA,IAAIY,WAAW,CAACX,MAAM,EAAED,CAAC,EAAE,EAAE;MAC5C,MAAMgB,QAAO,GAAIJ,WAAW,CAACZ,CAAC,CAAC,CAACe,KAAK,CAAC,GAAG;MACzC,IAAIC,QAAQ,CAAC,CAAC,KAAK,UAAU,EAAE;QAC9B,MAAMnB,QAAO,GAAIoB,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC,CAAC,CAAC;QACvC,IAAI,CAACnB,QAAO,GAAIA,QAAO;MACxB;IACD;IAEAgB,QAAQ,CAACa,gBAAgB,CAAC,kBAAkB,EAAE,YAAW;MACrD,IAAIC,KAAI,GAAId,QAAQ,CAACe,gBAAgB,CAAC,cAAc;MACpD,IAAIC,SAAQ,GAAIC,CAAC,CAACC,WAAW,CAACC,IAAI,CAACL,KAAK,EAAE,CAAC,CAAC;IAChD,CAAC;EACI;AACJ","names":["axios","swal","store","data","products","computed","total","a","length","units","price","methods","unitChanged","target","event","_id","getAttribute","parseInt","value","cookieParts","document","cookie","split","keyValue","JSON","parse","b","stringify","removeFromCart","button","splice","commit","mounted","addEventListener","elems","querySelectorAll","instances","M","Collapsible","init"],"sourceRoot":"","sources":["/home/aka/Documents/react-nativ/ecommerce-mevn-stack/client/src/components/CartComponent.vue"],"sourcesContent":["<template>\r\n\t<div class=\"section no-pad-bot\" id=\"index-banner\">\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"col m12\">\r\n\t\t\t\t\t<h1 class=\"text-center\">Keranjang</h1>\r\n\r\n\t\t\t\t\t<div class=\"card\">\r\n\r\n\t                    <div class=\"card-body\">\r\n\t                        <div class=\"table-responsive p-0\">\r\n\t                            <table class=\"table align-items-center justify-content-center mb-0\" id=\"products-table\">\r\n\t                                <thead>\r\n\t                                    <tr>\r\n\t                                        <th>Name</th>\r\n\t                                        <th>Price</th>\r\n\t                                        <th>Units</th>\r\n\t                                        <th>Total</th>\r\n\t                                        <th>Actions</th>\r\n\t                                    </tr>\r\n\t                                </thead>\r\n\r\n\t                                <tbody>\r\n\t                                    <tr v-for=\"(product, index) in products\" v-bind:key=\"product._id\">\r\n\t                                    \t<td v-text=\"product.name\"></td>\r\n\t                                    \t<td v-text=\"'Rp' + product.price\"></td>\r\n\t                                    \t<td>\r\n\t                                    \t\t<input type=\"number\" min=\"0\" name=\"unit\" v-bind:value=\"product.units\" v-bind:data-id=\"product._id\" v-on:change=\"unitChanged\" />\r\n\t                                    \t</td>\r\n\t                                    \t<td v-text=\"'Rp' + (product.price * product.units)\"></td>\r\n\t                                    \t<td>\r\n\t                                    \t\t<button type=\"button\" class=\"waves-effect waves-light red btn\" v-on:click=\"removeFromCart\" v-bind:data-id=\"product._id\">Remove from cart</button>\r\n\t                                    \t</td>\r\n\t                                    </tr>\r\n\t                                </tbody>\r\n\r\n\t                                <tfoot>\r\n\t                                \t<tr>\r\n\t                                \t\t<td colspan=\"4\" style=\"text-align: right;\">\r\n\t                                \t\t\t<div style=\"margin-right: 20px;\">\r\n\t                                \t\t\t\t<b>Total: </b>\r\n\t                                \t\t\t\tRp<span v-text=\"total\"></span>\r\n\t                                \t\t\t</div>\r\n\t                                \t\t</td>\r\n\r\n\t                                \t\t<td>\r\n\t                                \t\t\t<router-link class=\"waves-effect waves-light btn\" to=\"/checkout\">\r\n\t                                \t\t\t\tCheckout\r\n\t                                \t\t\t</router-link>\r\n\t                                \t\t</td>\r\n\t                                \t</tr>\r\n\t                                </tfoot>\r\n\t                            </table>\r\n\t                        </div>\r\n\t                    </div>\r\n\t                </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import axios from \"axios\"\r\n    import swal from \"sweetalert2\"\r\n    import store from \"../vuex/store\"\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                products: []\r\n            }\r\n        },\r\n\r\n        computed: {\r\n        \ttotal: function () {\r\n        \t\tlet total = 0\r\n        \t\tfor (let a = 0; a < this.products.length; a++) {\r\n        \t\t\ttotal += (this.products[a].units * this.products[a].price)\r\n        \t\t}\r\n        \t\treturn total\r\n        \t}\r\n        },\r\n\r\n        methods: {\r\n        \tunitChanged: function () {\r\n        \t\tconst target = event.target\r\n        \t\tconst _id = target.getAttribute(\"data-id\")\r\n        \t\tconst units = parseInt(target.value)\r\n\r\n        \t\tconst cookieParts = document.cookie.split(\"; \")\r\n\t\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\t\tconst products = JSON.parse(keyValue[1])\r\n\t\t\t\t\t\tfor (let b = 0; b < products.length; b++) {\r\n\t\t\t\t\t\t\tif (products[b]._id == _id) {\r\n\t\t\t\t\t\t\t\tproducts[b].units = units\r\n\t\t\t\t\t\t\t\tdocument.cookie = \"products=\" + JSON.stringify(products)\r\n\t\t\t\t\t\t\t\tthis.products = products\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n        \t},\r\n\r\n        \tremoveFromCart: function () {\r\n        \t\tconst button = event.target\r\n        \t\tconst _id = button.getAttribute(\"data-id\")\r\n\r\n        \t\tconst cookieParts = document.cookie.split(\"; \")\r\n\t\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\t\tconst products = JSON.parse(keyValue[1])\r\n\t\t\t\t\t\tfor (let b = 0; b < products.length; b++) {\r\n\t\t\t\t\t\t\tif (products[b]._id == _id) {\r\n\t\t\t\t\t\t\t\tproducts.splice(b, 1)\r\n\t\t\t\t\t\t\t\tdocument.cookie = \"products=\" + JSON.stringify(products)\r\n\t\t\t\t\t\t\t\tthis.products = products\r\n\t\t\t\t\t\t\t\tstore.commit(\"setCartCounter\", products.length)\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n        \t}\r\n        },\r\n\r\n        mounted: async function () {\r\n        \tconst cookieParts = document.cookie.split(\"; \")\r\n\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\tconst products = JSON.parse(keyValue[1])\r\n\t\t\t\t\tthis.products = products\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\t    \tvar elems = document.querySelectorAll('.collapsible')\r\n\t\t\t    var instances = M.Collapsible.init(elems, {})\r\n\t\t\t})\r\n        }\r\n    }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}