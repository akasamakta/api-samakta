{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"section no-pad-bot\",\n  id: \"index-banner\"\n};\nconst _hoisted_2 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col m6\"\n};\nconst _hoisted_5 = {\n  class: \"carousel\"\n};\nconst _hoisted_6 = {\n  class: \"carousel-item\",\n  href: \"#one!\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"col m6\"\n};\nconst _hoisted_9 = [\"textContent\"];\nconst _hoisted_10 = [\"textContent\"];\nconst _hoisted_11 = [\"textContent\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.product != null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.product.images, (image, index) => {\n    return _openBlock(), _createElementBlock(\"a\", _hoisted_6, [_createElementVNode(\"img\", {\n      src: this.$apiURL + '/' + image,\n      style: {\n        \"width\": \"100%\"\n      }\n    }, null, 8, _hoisted_7)]);\n  }), 256))])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h2\", {\n    textContent: _toDisplayString($data.product.name + ' (Rp' + $data.product.price + ')')\n  }, null, 8, _hoisted_9), _createElementVNode(\"p\", {\n    textContent: _toDisplayString($data.product.description)\n  }, null, 8, _hoisted_10), _createElementVNode(\"p\", null, [_createTextVNode(\"In stock: \"), _createElementVNode(\"span\", {\n    textContent: _toDisplayString($data.product.itemsInStock || 0)\n  }, null, 8, _hoisted_11)]), $data.isInCart ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    type: \"button\",\n    class: \"waves-effect waves-light btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.removeFromCart && $options.removeFromCart(...args))\n  }, \"Remove from cart\")) : (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    type: \"button\",\n    class: \"waves-effect waves-light btn\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.addToCart && $options.addToCart(...args))\n  }, \"Add to cart\"))])])])])) : _createCommentVNode(\"\", true);\n}","map":{"version":3,"mappings":";;;EACMA,KAAK,EAAC,oBAAoB;EAACC,EAAE,EAAC;;;EAC7BD,KAAK,EAAC;AAAiB;;EACtBA,KAAK,EAAC;AAAK;;EACVA,KAAK,EAAC;AAAQ;;EACbA,KAAK,EAAC;AAAU;;EACjBA,KAAK,EAAC,eAAe;EAACE,IAAI,EAAC;;;;EAM3BF,KAAK,EAAC;AAAQ;;;;;SAXkCG,aAAO,0BAA/DC,oBAqBM,OArBNC,UAqBM,GApBLC,oBAmBM,OAnBNC,UAmBM,GAlBLD,oBAiBM,OAjBNE,UAiBM,GAhBLF,oBAMM,OANNG,UAMM,GALLH,oBAIM,OAJNI,UAIM,sBAHLN,oBAEIO,6BAF2DR,aAAO,CAACS,MAAM,GAA/BC,KAAK,EAAEC,KAAK;yBAA1DV,oBAEI,KAFJW,UAEI,GADHT,oBAAoE;MAAxDU,GAAG,OAAOC,OAAO,SAASJ,KAAK;MAAEK,KAAoB,EAApB;QAAA;MAAA;;iBAKhDZ,oBAOM,OAPNa,UAOM,GANLb,oBAA8D;iBAA1Dc,iBAAQjB,KAA4C,QAArC,CAACkB,IAAI,YAAYlB,aAAO,CAACmB,KAAK;2BACjDhB,oBAAoC;iBAAjCc,iBAAQjB,KAAoB,QAAb,CAACoB,WAAW;4BAC9BjB,oBAAiE,6BAA9D,YAAU,uBAAgD;iBAA1Cc,iBAAQjB,KAA0B,QAAnB,CAACqB,YAAY;8BAEjCrB,cAAQ,kBAAtBC,oBAAgI;;IAAxGqB,IAAI,EAAC,QAAQ;IAACzB,KAAK,EAAC,8BAA8B;IAAM0B,OAAK,yCAAEC,2DAAc;KAAE,kBAAgB,oBACvHvB,oBAA6G;;IAA9FqB,IAAI,EAAC,QAAQ;IAACzB,KAAK,EAAC,8BAA8B;IAAM0B,OAAK,yCAAEC,iDAAS;KAAE,aAAW","names":["class","id","href","$data","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","images","image","index","_hoisted_6","src","$apiURL","style","_hoisted_8","_toDisplayString","name","price","description","itemsInStock","type","onClick","$options"],"sourceRoot":"","sources":["/home/aka/Documents/react-nativ/ecommerce-mevn-stack/client/src/components/ProductDetail.vue"],"sourcesContent":["<template>\r\n\t<div class=\"section no-pad-bot\" id=\"index-banner\" v-if=\"product != null\">\r\n\t\t<div class=\"container-fluid\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"col m6\">\r\n\t\t\t\t\t<div class=\"carousel\">\r\n\t\t\t\t\t\t<a class=\"carousel-item\" href=\"#one!\" v-for=\"(image, index) in product.images\">\r\n\t\t\t\t\t\t\t<img v-bind:src=\"this.$apiURL + '/' + image\" style=\"width: 100%;\" />\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"col m6\">\r\n\t\t\t\t\t<h2 v-text=\"product.name + ' (Rp' + product.price + ')'\"></h2>\r\n\t\t\t\t\t<p v-text=\"product.description\"></p>\r\n\t\t\t\t\t<p>In stock: <span v-text=\"product.itemsInStock || 0\"></span></p>\r\n\r\n\t\t\t\t\t<button v-if=\"isInCart\" type=\"button\" class=\"waves-effect waves-light btn\" v-on:click=\"removeFromCart\">Remove from cart</button>\r\n\t\t\t\t\t<button v-else type=\"button\" class=\"waves-effect waves-light btn\" v-on:click=\"addToCart\">Add to cart</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport axios from \"axios\"\r\n\timport swal from \"sweetalert2\"\r\n\timport store from \"../vuex/store\"\r\n\r\n\texport default {\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t_id: this.$route.params._id,\r\n\t\t\t\tproduct: null,\r\n\t\t\t\tisInCart: false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tgetDateInFormat: function (timestamp) {\r\n\t\t\t\tlet date = new Date(timestamp)\r\n\t\t\t\tdate = date.getDate() + \" \" + store.getters.getMonths[date.getMonth()] + \", \" + date.getFullYear()\r\n\t\t\t\treturn date\r\n\t\t\t},\r\n\r\n\t\t\tremoveFromCart: function () {\r\n\t\t\t\tconst cookieParts = document.cookie.split(\"; \")\r\n\t\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\t\tconst products = JSON.parse(keyValue[1])\r\n\t\t\t\t\t\tfor (let b = 0; b < products.length; b++) {\r\n\t\t\t\t\t\t\tif (products[b]._id == this._id) {\r\n\t\t\t\t\t\t\t\tproducts.splice(b, 1)\r\n\t\t\t\t\t\t\t\tdocument.cookie = \"products=\" + JSON.stringify(products)\r\n\r\n\t\t\t\t\t\t\t\tswal.fire(\"Remove from cart\", \"Product has been removed from cart\", \"success\")\r\n\t\t\t\t\t\t\t\tthis.isInCart = false\r\n\t\t\t\t\t\t\t\tstore.commit(\"setCartCounter\", products.length)\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\taddToCart: function () {\r\n\t\t\t\tif (this.product == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet products = []\r\n\t\t\t\tconst cookieParts = document.cookie.split(\"; \")\r\n\t\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\t\tproducts = JSON.parse(keyValue[1])\r\n\t\t\t\t\t\tbreak \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tproducts.push({\r\n\t\t\t\t\t_id: this._id,\r\n\t\t\t\t\tname: this.product.name,\r\n\t\t\t\t\tprice: this.product.price,\r\n\t\t\t\t\tunits: 1\r\n\t\t\t\t})\r\n\t\t\t\tdocument.cookie = \"products=\" + JSON.stringify(products)\r\n\r\n\t\t\t\t// swal.fire(\"Add to cart\", \"Product has been added to cart\", \"success\")\r\n\t\t\t\tthis.isInCart = true\r\n\t\t\t\tstore.commit(\"setCartCounter\", products.length)\r\n\t\t\t},\r\n\r\n            getData: async function () {\r\n                const formData = new FormData()\r\n                formData.append(\"_id\", this._id)\r\n\r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/products/fetchSingle\",\r\n                    formData\r\n                )\r\n\r\n                if (response.data.status == \"success\") {\r\n                    // console.log(response.data.product)\r\n                    this.product = response.data.product\r\n\r\n                    setTimeout(function () {\r\n                    \tvar elems = document.querySelectorAll('.carousel')\r\n\t                    var instances = M.Carousel.init(elems, {})\r\n\t                }, 500)\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n                }\r\n            }\r\n        },\r\n\r\n        mounted: function () {\r\n            this.getData()\r\n\r\n            const cookieParts = document.cookie.split(\"; \")\r\n\t\t\tfor (let a = 0; a < cookieParts.length; a++) {\r\n\t\t\t\tconst keyValue = cookieParts[a].split(\"=\")\r\n\t\t\t\tif (keyValue[0] == \"products\") {\r\n\t\t\t\t\tconst products = JSON.parse(keyValue[1])\r\n\t\t\t\t\tfor (let b = 0; b < products.length; b++) {\r\n\t\t\t\t\t\tif (products[b]._id == this._id) {\r\n\t\t\t\t\t\t\tthis.isInCart = true\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tvar el = document.querySelectorAll('.tabs')\r\n\t\t\t\tvar instance = M.Tabs.init(el, {})\r\n\t\t\t}, 1000)\r\n        }\r\n\t}\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}